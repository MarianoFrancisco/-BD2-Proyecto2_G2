<div class="d-flex justify-content-center align-items-center mt-5">
    <div class="rounded-4 shadow mx-3" style="width: 45rem; background-color: white;">
      <div class="row p-5">
        <div class="col-12 text-center mb-5">
          <h2 class="fw-bold">Editar Libro</h2>
        </div>
        <div class="col-12" *ngIf="book">
          <form (ngSubmit)="onSubmit(bookForm)" #bookForm="ngForm" enctype="multipart/form-data" class="row g-3">
            <!-- Título -->
            <div class="form-group mb-3 col-6">
              <label for="titulo">Título</label>
              <input type="text" id="titulo" name="titulo" [ngModel]="book.titulo" required class="form-control">
            </div>
            <!-- Autor -->
            <div class="form-group mb-3 col-6">
                <label for="autor_id">Autor</label>
                <select id="autor_id" name="autor_id" [(ngModel)]="book.autor_id._id" required class="form-select">
                  <option *ngFor="let author of authors" [value]="author._id">{{ author.nombre }}</option>
                </select>
            </div>
            <!-- Descripción -->
            <div class="form-group mb-3">
              <label for="descripcion">Descripción</label>
              <textarea id="descripcion" name="descripcion" [ngModel]="book.descripcion" required class="form-control"></textarea>
            </div>
            <!-- Género -->
            <div class="form-group mb-3 col-6">
                <label for="genero_id">Género</label>
                <select id="genero_id" name="genero_id" [(ngModel)]="book.genero_id._id" required class="form-select">
                  <option *ngFor="let genre of genres" [value]="genre._id">{{ genre.nombre }}</option>
                </select>
            </div>
            <!-- Fecha de Publicación -->
            <div class="form-group mb-3 col-6">
                <label for="fecha_publicacion">Fecha de Publicación</label>
                <input type="date" id="fecha_publicacion" name="fecha_publicacion" [(ngModel)]="book.fecha_publicacion" required class="form-control">
            </div>
            <!-- Disponibilidad -->
            <div class="form-group mb-3">
              <div class="form-check">
                <input type="checkbox" id="disponibilidad" name="disponibilidad" [ngModel]="book.disponibilidad" class="form-check-input">
                <label class="form-check-label" for="disponibilidad">Disponibilidad</label>
              </div>
            </div>
            <!-- Cantidad en Stock -->
            <div class="form-group mb-3 col-6">
              <label for="cantidad_stock">Cantidad en Stock</label>
              <input type="number" id="cantidad_stock" name="cantidad_stock" [ngModel]="book.cantidad_stock" required class="form-control"
                min="0" pattern="[0-9]+" (input)="validateNonNegativeNumber($event)">
            </div>
            <!-- Precio -->
            <div class="form-group mb-3 col-6">
              <label for="precio">Precio</label>
              <input type="number" step="0.01" id="precio" name="precio" [ngModel]="book.precio" required class="form-control"
                (input)="validateNonNegativeNumber($event)">
            </div>
            <!--
            
            <div class="col-12">
              <label for="imagen" class="form-label">Imagen</label>
              <div class="input-group">
                <input type="file" id="imagen" name="imagen" (change)="onFileChange($event)" class="form-control">
              </div>
              
              <div *ngIf="imagePreview" class="mt-3">
                <img [src]="imagePreview" class="img-fluid" alt="Vista previa de la imagen">
              </div>
            </div>
            -->
            <div class="col-12 text-center mt-4">
              <button type="submit" class="btn btn-primary w-25">
                Guardar Cambios
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  